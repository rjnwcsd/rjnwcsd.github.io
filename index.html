<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smurf Cat: The Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #smur {
            position: absolute;
            width: 120px;
            height: 120px; /* Set the desired size */
        }
        #fire {
            position: absolute;
            display: none;
        }
        #black {
            position: absolute;
            display: none;
            width: 1080px;
            height: 10px;
            background-color: black;
        }
    </style>
</head>
<body>
    <img id="smur" src="smur.png" alt="Smur Image">
    <img id="fire" src="maxresdefault.jpg" alt="Fire Image">
    <div id="black"></div>
    <script>
        const smur = document.getElementById('smur');
        const fire = document.getElementById('fire');
        const black = document.getElementById('black');
        let x = 0;
        let y = 0;
        let fireCooldown = false;

        const step = 10;
        const cooldownDuration = 1000; // 1 second

        // Initialize gamepad support
        window.addEventListener("gamepadconnected", (event) => {
            const gamepad = event.gamepad;
            // Start listening for gamepad input
            handleGamepadInput(gamepad);
        });

        function handleGamepadInput(gamepad) {
            // Check for joystick input and update character position
            const axes = gamepad.axes;
            const xAxis = axes[0];
            const yAxis = axes[1];

            x += xAxis * step;
            y += yAxis * step;

            // Check if the new position is inside the black image bounds.
            if (
                x >= 0 &&
                x <= 1080 &&
                y === 470 &&
                !(x <= 1080 && x + smur.width >= 0)
            ) {
                // If the character is at the specified y-coordinate range,
                // show the black image spanning across the screen.
                black.style.transform = `translate(0px, 470px)`;
                black.style.display = 'block';
            } else {
                black.style.display = 'none';
                // Update the character's position only if it's not inside the black image bounds.
                smur.style.transform = `translate(${x}px, ${y}px)`;
            }

            // Request the next animation frame to keep the gamepad input loop running
            requestAnimationFrame(() => handleGamepadInput(gamepad));
        }
    </script>
</body>
</html>
